{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./graph.js","webpack:///./graph2.js","webpack:///./mineTest.js","webpack:///./miner.js","webpack:///./test3.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,YAAY;AACjC;AACA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,mCAAmC,iMAAiM;AACpO,cAAc;AACd,mCAAmC,mMAAmM;AACtO,cAAc;AACd,mCAAmC,gGAAgG;AACnI;AACA;AACA,OAAO;AACP,KAAK;AACL,2BAA2B,0FAA0F;AACrH,wBAAwB,sFAAsF;AAC9G;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,iMAAiM;AACjO,WAAW;AACX,gCAAgC,mMAAmM;AACnO,WAAW;AACX,gCAAgC,gGAAgG;AAChI;AACA;AACA,OAAO;AACP,KAAK;AACL,wBAAwB,0FAA0F;AAClH,qBAAqB,sFAAsF;AAC3G;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,uDAAuD;AAClF;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,+BAA+B,YAAY,EAAE;AAC7C,sCAAsC,qBAAqB,IAAI,GAAG,IAAI,GAAG,EAAE;;AAE3E;AACA;AACA;AACA,0BAA0B,EAAE;AAC5B,+BAA+B,mBAAmB,EAAE;AACpD,+BAA+B,mBAAmB,EAAE;AACpD,+BAA+B,mBAAmB,EAAE;;;AAGpD;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,+BAA+B,GAAG,GAAG,GAAG;AACxC;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,KAAK,EAAE;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,eAAe;;AAExC;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,gFAAgF;AAChF;AACA;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB,eAAe,GAAG,eAAe,GAAG;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,8BAA8B,eAAe,GAAG,eAAe,EAAE;AACjE,kCAAkC;AAClC;AACA;AACA,kBAAkB,WAAW;AAC7B;AACA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC;AACA,sBAAsB,MAAM,GAAG,IAAI,EAAE;;;AAGrC;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4BAA4B,KAAK,EAAE;AACnC;AACA;AACA;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,4BAA4B,gCAAgC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,0CAA0C,YAAY,EAAE;AACxD,iDAAiD,qBAAqB,IAAI,GAAG,IAAI,GAAG,EAAE;AACtF;AACA,iDAAiD,mBAAmB,EAAE;AACtE,4CAA4C,mBAAmB,EAAE;AACjE,4CAA4C,mBAAmB,EAAE;AACjE,4CAA4C,mBAAmB,EAAE;AACjE;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,GAAG,GAAG,GAAG;AACjD;AACA;AACA;AACA;AACA,gBAAgB;AAChB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,YAAY;AACZ;AACA,YAAY;AACZ;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,eAAe;AAC3C;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,uFAAuF;AACvF;AACA;AACA;AACA;AACA;AACA,wCAAwC,mBAAmB,eAAe,GAAG,eAAe,GAAG;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,2CAA2C,qBAAqB;AAChE;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA,yCAAyC,eAAe,GAAG,eAAe,EAAE;AAC5E,4CAA4C;AAC5C;AACA;AACA,kCAAkC,WAAW;AAC7C;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA,8BAA8B,MAAM,GAAG,IAAI,EAAE;AAC7C;;AAEA;;;;AAIA;;AAEe,oEAAK,EAAC;;;;;;;;;;;;;AC5crB;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,sGAAsG;AAC3H,OAAO,sHAAsH;AAC7H,OAAO,wDAAwD;AAC/D,OAAO,sHAAsH;AAC7H,OAAO,0GAA0G;AACjH,OAAO,2DAA2D;AAClE,OAAO,2DAA2D;AAClE,OAAO,2DAA2D;AAClE,OAAO,0GAA0G;AACjH,OAAO;AACP;;AAEA;AACA,OAAO,qBAAqB;AAC5B,OAAO,qBAAqB;AAC5B,OAAO,qBAAqB;AAC5B,OAAO,qBAAqB;AAC5B,OAAO,qBAAqB;AAC5B,OAAO,qBAAqB;AAC5B,OAAO,qBAAqB;AAC5B,OAAO,qBAAqB;AAC5B,OAAO,qBAAqB;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,sFAAsF;AAChG,UAAU,iGAAiG;AAC3G,UAAU,mDAAmD;AAC7D,UAAU,iGAAiG;AAC3G,UAAU,6FAA6F;AACvG,UAAU,sDAAsD;AAChE,UAAU,sDAAsD;AAChE,UAAU,sDAAsD;AAChE,UAAU,6FAA6F;AACvG,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,qBAAqB;AAC/B,UAAU,qBAAqB;AAC/B,UAAU,qBAAqB;AAC/B,UAAU,qBAAqB;AAC/B,UAAU,qBAAqB;AAC/B,UAAU,qBAAqB;AAC/B,UAAU,qBAAqB;AAC/B,UAAU,qBAAqB;AAC/B,UAAU,qBAAqB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,oDAAoD;AAC/E,cAAc;AACd,2BAA2B,yFAAyF;AACpH;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,uBAAuB,qGAAqG;AAC5H;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,qCAAqC,YAAY,EAAE;AACnD,4CAA4C,qBAAqB,IAAI,GAAG,IAAI,GAAG,EAAE;;AAEjF;AACA,wCAAwC,mBAAmB,EAAE;AAC7D,mCAAmC,mBAAmB,EAAE;AACxD,mCAAmC,mBAAmB,EAAE;AACxD,mCAAmC,mBAAmB,EAAE;;;AAGxD;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd;AACA;AACA;AACA;AACA;AACA,mCAAmC,GAAG,GAAG,GAAG;AAC5C;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,EAAE,GAAG;AACtC;AACA;AACA,cAAc;;AAEd;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,KAAK,EAAE;AAChC;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,eAAe;;AAE1C;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA,mCAAmC,mBAAmB,eAAe,GAAG,eAAe,GAAG;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,sCAAsC,qBAAqB;AAC3D;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,oCAAoC,eAAe,GAAG,eAAe,EAAE;AACvE,uCAAuC;AACvC;AACA;AACA,qBAAqB,WAAW;AAChC;AACA;AACA;AACA;AACA;AACA,0BAA0B,WAAW;AACrC;AACA,yBAAyB,MAAM,GAAG,IAAI,EAAE;;AAExC;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,oCAAoC,YAAY,EAAE;AAClD,2CAA2C,qBAAqB,IAAI,GAAG,IAAI,GAAG,EAAE;AAChF;AACA,2CAA2C,mBAAmB,EAAE;AAChE,sCAAsC,mBAAmB,EAAE;AAC3D,sCAAsC,mBAAmB,EAAE;AAC3D,sCAAsC,mBAAmB,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,GAAG,GAAG,GAAG;AAC3C;AACA;AACA;AACA;AACA,UAAU;AACV;;AAEA;;AAEe,oEAAK,EAAC;;;;;;;;;;;;;AC7WrB;AAAA;AAA+B;;AAE/B;AACA;AACA;AACA;AACA,YAAY,mBAAmB;AAC/B,YAAY,mBAAmB;AAC/B,YAAY,mBAAmB;AAC/B,YAAY,mBAAmB;AAC/B,YAAY;AACZ;AACA;AACA,YAAY,wBAAwB;AACpC,YAAY,kBAAkB;AAC9B,YAAY,kBAAkB;AAC9B,YAAY,kBAAkB;AAC9B,YAAY;AACZ;AACA;AACA,YAAY,oBAAoB;AAChC,YAAY,oBAAoB;AAChC,YAAY,oBAAoB;AAChC,YAAY,oBAAoB;AAChC,YAAY;AACZ;AACA;AACA,SAAS,mBAAmB;AAC5B,SAAS,mBAAmB;AAC5B,SAAS,oBAAoB;AAC7B,SAAS,oBAAoB;AAC7B,YAAY;AACZ;AACA;AACA,SAAS,mBAAmB;AAC5B,SAAS,mBAAmB;AAC5B,SAAS,mBAAmB;AAC5B,SAAS,kBAAkB;AAC3B,YAAY;AACZ;AACA;AACA,SAAS,kBAAkB;AAC3B,SAAS,kBAAkB;AAC3B,SAAS,kBAAkB;AAC3B,SAAS,kBAAkB;AAC3B,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mCAAmC,GAAG,oCAAoC;AACtG,8BAA8B;AAC9B;AACA;AACA,qBAAqB,iDAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA,0BAA0B,4CAA4C;AACtE,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,qBAAqB,MAAM,GAAG,MAAM;AACpC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,KAAK;AACpC,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uDAAuD,UAAU,GAAG,UAAU;;;AAG9E;AACA;AACA;AACA,8BAA8B,MAAM,GAAG,MAAM;AAC7C,cAAc;AACd;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,8BAA8B,MAAM,GAAG,MAAM;AAC7C,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd,YAAY;;AAEZ;AACA;AACA;AACA;AACA,2BAA2B,MAAM,GAAG,MAAM;AAC1C,WAAW;AACX;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,oEAAoE,YAAY;AAChF;AACA;;AAEA;AACA;AACA;AACA,wDAAwD,KAAK;AAC7D;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEe,mEAAI,EAAC;;;;;;;;;;;;;AChPpB;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,aAAa,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,sBAAsB;AAC5C,sBAAsB,sBAAsB;AAC5C;AACA;AACA,sBAAsB,yCAAyC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,aAAa,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,mBAAmB,EAAE;AACvE,kDAAkD,mBAAmB,EAAE;AACvE,kDAAkD,mBAAmB,EAAE;AACvE,kDAAkD,mBAAmB,EAAE;AACvE;AACA;AACA;AACA;AACA;AACA,oDAAoD,cAAc,EAAE;AACpE,mDAAmD,cAAc,EAAE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ,aAAa,mBAAO,CAAC,8BAAY;AACA;AACF;AACE;AACjC;AACA;AACA;AACA;AACA,iBAAiB,oDAAI;AACrB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AClMD;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK,sFAAsF;AAC3F,KAAK,iGAAiG;AACtG,KAAK,mDAAmD;AACxD,KAAK,iGAAiG;AACtG,KAAK,6FAA6F;AAClG,KAAK,sDAAsD;AAC3D,KAAK,sDAAsD;AAC3D,KAAK,sDAAsD;AAC3D,KAAK,6FAA6F;AAClG,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA,KAAK,qBAAqB;AAC1B,KAAK,qBAAqB;AAC1B,KAAK,qBAAqB;AAC1B,KAAK,qBAAqB;AAC1B,KAAK,qBAAqB;AAC1B,KAAK,qBAAqB;AAC1B,KAAK,qBAAqB;AAC1B,KAAK,qBAAqB;AAC1B,KAAK,qBAAqB;AAC1B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,oDAAoD;AAC1E,SAAS;AACT,sBAAsB,yFAAyF;AAC/G;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,kBAAkB,qGAAqG;AACvH;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,mCAAmC,YAAY,EAAE;AACjD,0CAA0C,qBAAqB,IAAI,GAAG,IAAI,GAAG,EAAE;;AAE/E;AACA,iCAAiC,mBAAmB,EAAE;AACtD,iCAAiC,mBAAmB,EAAE;AACtD,iCAAiC,mBAAmB,EAAE;AACtD,iCAAiC,mBAAmB,EAAE;;;AAGtD;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZ;AACA;AACA;AACA;AACA;AACA,iCAAiC,GAAG,GAAG,GAAG;AAC1C;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE,GAAG;AACpC;AACA;AACA,YAAY;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,KAAK,EAAE;AAC9B;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,eAAe;;AAExC;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,gFAAgF;AAChF;AACA;AACA;AACA;AACA;AACA,iCAAiC,mBAAmB,eAAe,GAAG,eAAe,GAAG;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,oCAAoC,qBAAqB;AACzD;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,kCAAkC,eAAe,GAAG,eAAe,EAAE;AACrE,qCAAqC;AACrC;AACA;AACA,mBAAmB,WAAW;AAC9B;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW;AACnC;AACA,uBAAuB,MAAM,GAAG,IAAI,EAAE;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,KAAK,EAAE;AAC/B;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ,oCAAoC,YAAY,EAAE;AAClD,2CAA2C,qBAAqB,IAAI,GAAG,IAAI,GAAG,EAAE;AAChF;AACA,sCAAsC,mBAAmB,EAAE;AAC3D,sCAAsC,mBAAmB,EAAE;AAC3D,sCAAsC,mBAAmB,EAAE;AAC3D,sCAAsC,mBAAmB,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,GAAG,GAAG,GAAG;AAC3C;AACA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,YAAY;AACZ;;AAEA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;;AAGA,YAAY;AACZ;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,MAAM;AACN;;;AAGA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B;AACA;AACA,kBAAkB,mCAAmC,GAAG,IAAI;AAC5D;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;;AAEA","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./miner.js\");\n","class Graph {\n  constructor(){\n    this.matrix = [];\n    this.mine;\n    this.mineH;\n    this.mineW;\n    this.infCapacity = 1000000;\n    this.svgWidth = 900;\n    this.svgHeight = 900;\n    this.svgGraph = d3.select(\"body\").append(\"svg\").attr(\"class\",\"svgGraph\").attr(\"width\", this.svgWidth).attr(\"height\", this.svgHeight);\n    this.nodes = [];\n    this.links = [];\n    this.node;\n    this.edgepaths;\n    this.edgelabels;\n    this.link;\n    this.nodeLabelList = \"abcdefghijklmnopqruvwxyz\"\n    this.innerNodeCount;\n    this.force;\n    // debugger\n  }\n\n  clearGraph(){\n    d3.select(\".svgGraph\").selectAll(\"*\").remove();\n    this.nodes = [];\n    this.links = [];\n    this.matrix = [];\n  }\n\n  populateMatrix(size){\n    for (let row = 0; row < size; row++){\n      let newRow = []\n      for (let col = 0; col < size; col++){\n        newRow.push(0)\n      }\n      this.matrix.push(newRow);\n    }\n  }\n\n  findBlocksAbove(i,j,mine){\n    // debugger\n    const result = [];\n    if (i === 0) return result;\n    if (j > 0) result.push([i-1,j-1]);\n    result.push([i-1,j]);\n    if (j < mine[0].length - 1) result.push([i-1,j+1]);\n    // debugger\n    return result;\n  }\n\n  findNodeNum(i,j,mine){\n    // debugger\n    // return 1 + (this.mineH - 1 - i)*this.mineW + j\n    return 1 + mine[i][j].idx;\n  }\n\n  generateMatrixFromMine(mineObj){\n    this.mine = mineObj.mine;\n    debugger\n    const matrixSize = mineObj.numBlocks + 2;\n    this.populateMatrix(matrixSize);\n    // this.innerNodeCount = 0;\n    let nodeLayers = mineObj.nodeLayers;\n    // this.mineH = mine.length;\n    // this.mineW = mine[0].length;\n    this.mine.forEach((row,i) => {\n      let tmpRow = row.slice();\n      tmpRow.forEach((el, j) => {\n        // debugger\n        if (el.profit !== null){\n          // this.innerNodeCount++;\n          let newPos = this.findNodeNum(i,j,this.mine);\n          if (el.profit > 0) this.matrix[0][newPos] = el.profit;\n          else if (el.profit < 0) this.matrix[newPos][this.matrix.length - 1] = (-1*el.profit);\n          let aboves = this.findBlocksAbove(i,j,this.mine);\n          // debugger\n          aboves.forEach(pos => {\n            el;\n            mineObj;\n            // debugger\n            let intRow = this.findNodeNum(i,j,this.mine);\n            let intCol = this.findNodeNum(pos[0],pos[1],this.mine);\n            this.matrix[intRow][intCol] = this.infCapacity;\n          })\n          // debugger\n          i;\n          // nodeLayers;\n          // debugger\n          // if (nodeLayers[i][0] === el.idx){\n          //   this.nodes.unshift({label: this.nodeLabelList[this.innerNodeCount-1], index: this.innerNodeCount, profit: el.profit, fixed: true, x: this.svgWidth/10, y: 100 + ((this.svgHeight-200)/(nodeLayers.length + 1)*(i+1))});\n          // }else if (nodeLayers[i][1] === el.idx){\n          //   this.nodes.unshift({label: this.nodeLabelList[this.innerNodeCount-1], index: this.innerNodeCount, profit: el.profit, fixed: true, x: 9*this.svgWidth/10, y: 100 + ((this.svgHeight-200)/(nodeLayers.length + 1)*(i+1))});\n          // }else{\n          //   this.nodes.unshift({label: this.nodeLabelList[this.innerNodeCount-1], index: this.innerNodeCount, profit: el.profit});\n          // }\n        }\n      })\n    })\n    // this.nodes.unshift({label: \"s\", index: 0, profit: null, fixed: true, x: this.svgWidth/2, y: this.svgHeight-50});\n    // this.nodes.push({label: \"t\", index: matrixSize-1, profit: null, fixed: true, x: this.svgWidth/2, y: 50});\n    // debugger\n    this.populateNodes(mineObj);\n  }\n\n  populateNodes(mineObj){\n    const matrixSize = mineObj.numBlocks + 2;\n    this.innerNodeCount = matrixSize-1;\n    let nodeLayers = mineObj.nodeLayers;\n    this.mine.forEach((row,i) => {\n      let tmpRow = row.slice();\n      tmpRow.reverse().forEach((el,j) => {\n        if (el.profit !== null){\n          this.innerNodeCount--;\n          if (nodeLayers[i][0] === el.idx){\n            this.nodes.unshift({label: this.nodeLabelList[this.innerNodeCount-1], index: this.innerNodeCount, profit: el.profit, fixed: true, x: this.svgWidth/10, y: 100 + ((this.svgHeight-200)/(nodeLayers.length + 1)*(i+1))});\n          }else if (nodeLayers[i][1] === el.idx){\n            this.nodes.unshift({label: this.nodeLabelList[this.innerNodeCount-1], index: this.innerNodeCount, profit: el.profit, fixed: true, x: 9*this.svgWidth/10, y: 100 + ((this.svgHeight-200)/(nodeLayers.length + 1)*(i+1))});\n          }else{\n            this.nodes.unshift({label: this.nodeLabelList[this.innerNodeCount-1], index: this.innerNodeCount, profit: el.profit});\n          }\n        }\n      })\n    })\n    this.nodes.unshift({label: \"s\", index: 0, profit: null, fixed: true, x: this.svgWidth/2, y: this.svgHeight-50});\n    this.nodes.push({label: \"t\", index: matrixSize-1, profit: null, fixed: true, x: this.svgWidth/2, y: 50});\n    debugger;\n  }\n\n  populateLinks(){\n    let linkId = 0;\n    // debugger\n    this.matrix.forEach((row,i) => {\n      row.forEach((el,j) => {\n        if (el > 0){\n          // debugger\n          this.links.push({source: i, target: j, res: 0, capacity: el, id: linkId});\n          linkId = linkId + 1;\n        }\n      })\n    })\n    debugger\n  }\n\n  renderGraph(){\n    // this.svgGraph = d3.select('body').append('svg')\n    // .attr('width', this.svgWidth)\n    // .attr('height', this.svgHeight);\n\n    //\n    //apply force conditions\n    debugger\n    this.force = d3.layout.force()\n    .size([this.svgWidth, this.svgHeight])\n    .nodes(d3.values(this.nodes))\n    .links(this.links)\n    .on(\"tick\", () => {\n      // debugger\n      this.node.attr('cx', function(d) {\n        // debugger\n        return d.x;\n      })\n      .attr('cy', function(d) { return d.y; })\n      .attr(\"transform\", function(d) { return `translate(${d.x},${d.y})`; });\n\n      // debugger\n      this.link.attr('x1', function(d) {\n        // debugger\n        return d.source.x; })\n      .attr('y1', function(d) { return d.source.y; })\n      .attr('x2', function(d) { return d.target.x; })\n      .attr('y2', function(d) { return d.target.y; });\n\n\n      this.edgepaths.attr('d', function(d) {\n        let path='M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y;\n        return path\n      });\n\n      this.edgelabels.attr(\"transform\", function(d,i){\n        if (d.target.x < d.source.x){\n          let bbox = this.getBBox();\n          let rx = bbox.x + bbox.width/2;\n          let ry = bbox.y + bbox.height/2;\n          return `rotate(180 ${rx} ${ry})`;\n        }\n        else{\n          return \"rotate(0)\";\n        }\n      })\n    })\n    // .linkDistance(100)\n    .gravity(0.01)\n    .charge(-1500)\n    // .linkDistance(100)\n    .linkStrength(0.1)\n    .start();\n\n    //create links\n    const infCapacity = this.infCapacity;\n    this.link = this.svgGraph.append(\"g\").selectAll('.link')\n    .data(this.links)\n    .enter().append('line')\n    .attr(\"class\", \"link\")\n    .attr('id', function(d) {\n      return `link_${d.id}`})\n      .style(\"stroke\", function(d){\n        if (d.capacity === infCapacity){\n          return \"#444\"\n        }else if (d.target.label === \"t\"){\n          return \"#8B4513\"\n        }else if ( d.source.label === \"s\"){\n          return \"#FFD700\"\n        }\n      })\n      .attr(\"marker-end\",\"url(#arrowhead)\")\n      .style(\"stroke-width\", \"4\")\n\n      //create nodes\n      this.node = this.svgGraph.selectAll(\".node\")\n      .data(this.nodes)\n      .enter().append(\"g\")\n      .attr('class', 'node')\n      // .attr(\"transform\",transform);\n      .call(this.force.drag);\n\n      //add circle to visualize nodes\n      this.node.append(\"circle\")\n      .attr('r', 12)\n      .attr(\"fill\", function(d) {\n        // debugger\n        if (d.label === \"s\"){\n          return \"#ce9308\"\n        }else if (d.label === \"t\"){\n          return \"#969696\"\n        }else if (d.profit !== null && d.profit > 0){\n          return \"#31703d\"\n        }else if (d.profit !== null && d.profit <= 0){\n          return \"#961919\"\n        }\n      })\n      .style(\"stroke\", \"#fff\")\n      .style(\"stroke-weight\", \"3\")\n\n      //add node labels\n      this.node.append(\"text\")\n      .attr(\"class\",\"nodeLabel\")\n      .attr(\"dx\", \"-.2em\")\n      .attr(\"dy\", \".35em\")\n      .style(\"fill\", \"white\")\n      .text(function(d) {return d.label})\n\n      this.edgepaths = this.svgGraph.selectAll(\".edgepath\")\n      .data(this.links)\n      .enter()\n      .append('path')\n      .attr({'d': function(d) {\n        //\n        return 'M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y},\n        'class':'edgepath',\n        'fill-opacity':0,\n        'stroke-opacity':0,\n        'fill':'blue',\n        'stroke':'red',\n        'id':function(d,i) {return `edgepath:${d.source.index}-${d.target.index}`}})\n        .style(\"pointer-events\", \"none\");\n        //\n        this.edgelabels = this.svgGraph.selectAll(\".edgelabel\")\n        .data(this.links)\n        .enter()\n        .append('text')\n        .style(\"pointer-events\", \"none\")\n        .attr({'class':'edgelabel',\n        'id':function(d,i){return 'edgelabel'+i},\n        'dx':80,\n        'dy':-5,\n        'font-size':20,\n        'fill':'#aaa'});\n        //\n        //\n        this.edgelabels.append('textPath')\n        .attr('xlink:href',function(d,i) {\n          //\n          return `#edgepath:${d.source.index}-${d.target.index}`})\n          // return '#edgepath'+i})\n          .style(\"pointer-events\", \"none\")\n          .text(function(d){\n            // `${d.capacity}`\n            let cap;\n            if (d.capacity === infCapacity){\n              cap = `∞`\n            }\n            else{\n              cap = `${d.capacity}`\n            }\n            return `${d.res}:${cap}`});\n\n\n            this.svgGraph.append('defs').append('marker')\n                .attr({'id':'arrowhead',\n                       'viewBox':'-0 -5 10 10',\n                       'refX':25,\n                       'refY':0,\n                       //'markerUnits':'strokeWidth',\n                       'orient':'auto',\n                       'markerWidth':4,\n                       'markerHeight':4,\n                       'xoverflow':'visible'})\n                .append('svg:path')\n                    .attr('d', 'M 0,-5 L 10 ,0 L 0,5')\n                    .attr('fill', '#ccc')\n                    .attr('stroke','#ccc');\n    // debugger\n    // this.svgGraph.append(\"circle\").attr(\"cx\",100).attr(\"cy\",100).attr(\"r\",20).attr(\"fill\",\"white\");\n    // debugger\n     // debugger\n\n    // this.link = this.svgGraph.append(\"g\").selectAll('.link')\n    //     .data(this.links)\n    //     .enter().append('line')\n    //     .attr(\"class\", \"link\")\n    //     .attr('id', function(d) {\n    //       return `link_${d.id}`})\n    //     .style(\"stroke\", function(d){\n    //       if (d.capacity === this.infCapacity){\n    //         return \"#000\"\n    //       }else if (d.target.label === \"t\"){\n    //         return \"#632f12\"\n    //       }else if ( d.source.label === \"s\"){\n    //         return \"#fff\"\n    //       }\n    //     })\n    //     // .attr(\"marker-end\",\"url(#arrowhead)\")\n    //     .style(\"stroke-width\", \"4\")\n    //\n    //     // const this = this;\n    //     this.force = d3.layout.force()\n    //     .size(function(){[this.svgWidth, this.svgHeight]})\n    //     .nodes(d3.values(this.nodes))\n    //     .links(this.links)\n    //     .on(\"tick\", () => {\n    //       debugger\n    //         this.node.attr('cx', function(d) {\n    //           debugger\n    //             return d.x;\n    //           })\n    //           .attr('cy', function(d) { return d.y; })\n    //           .attr(\"transform\", function(d) { return `translate(${d.x},${d.y})`; });\n    //\n    //         this.link.attr('x1', function(d) { return d.source.x; })\n    //             .attr('y1', function(d) { return d.source.y; })\n    //             .attr('x2', function(d) { return d.target.x; })\n    //             .attr('y2', function(d) { return d.target.y; });\n    //\n    //\n    //         this.edgepaths.attr('d', function(d) {\n    //           let path='M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y;\n    //           return path\n    //         });\n    //\n    //         this.edgelabels.attr(\"transform\", function(d,i){\n    //           if (d.target.x < d.source.x){\n    //             bbox = this.getBBox();\n    //             rx = bbox.x + bbox.width/2;\n    //             ry = bbox.y + bbox.height/2;\n    //             return `rotate(180 ${rx} ${ry})`;\n    //           }\n    //           else{\n    //             return \"rotate(0)\";\n    //           }\n    //         })\n    //     })\n    //     // .linkDistance(100)\n    //     .gravity(0.1)\n    //     .charge(-1200)\n    //     .linkDistance(120)\n    //     .linkStrength(0.1)\n    //     .start();\n    //   this.node = this.svgGraph.selectAll(\".node\")\n    //   .data(this.nodes)\n    //   .enter().append(\"g\")\n    //   .attr('class', 'node')\n    //   // .attr(\"transform\",transform);\n    //   .call(this.force.drag);\n    //   // debugger\n    //\n    //   this.node.append(\"circle\")\n    //   .attr('r', 12)\n    //   .attr(\"fill\", function(d) {\n    //     if (d.label === \"s\"){\n    //       return \"#ce9308\"\n    //     }else if (d.label === \"t\"){\n    //       return \"#969696\"\n    //     }else if (d.profit !== null && d.profit > 0){\n    //       return \"#31703d\"\n    //     }else if (d.profit !== null && d.profit <= 0){\n    //       return \"#961919\"\n    //     }\n    //   })\n    //   .style(\"stroke\", \"#fff\")\n    //   .style(\"stroke-weight\", \"3\")\n    //\n    //   this.node.append(\"text\")\n    //   .attr(\"class\",\"nodeLabel\")\n    //   .attr(\"dx\", \"-.2em\")\n    //   .attr(\"dy\", \".35em\")\n    //   .style(\"fill\", \"white\")\n    //   .text(function(d) {return d.label})\n    //\n    //   this.edgepaths = this.svgGraph.selectAll(\".edgepath\")\n    //       .data(this.links)\n    //       .enter()\n    //       .append('path')\n    //       .attr({'d': function(d) {\n    //         // debugger\n    //         return 'M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y},\n    //              'class':'edgepath',\n    //              'fill-opacity':0,\n    //              'stroke-opacity':0,\n    //              'fill':'blue',\n    //              'stroke':'red',\n    //              'id':function(d,i) {return `edgepath:${d.source.index}-${d.target.index}`}})\n    //       .style(\"pointer-events\", \"none\");\n    //   //\n    //       this.edgelabels = this.svgGraph.selectAll(\".edgelabel\")\n    //           .data(this.links)\n    //           .enter()\n    //           .append('text')\n    //           .style(\"pointer-events\", \"none\")\n    //           .attr({'class':'edgelabel',\n    //                  'id':function(d,i){return 'edgelabel'+i},\n    //                  'dx':80,\n    //                  'dy':-5,\n    //                  'font-size':20,\n    //                  'fill':'#aaa'});\n    //   //\n    //   //\n    //        this.edgelabels.append('textPath')\n    //            .attr('xlink:href',function(d,i) {\n    //              // debugger\n    //               return `#edgepath:${d.source.index}-${d.target.index}`})\n    //              // return '#edgepath'+i})\n    //            .style(\"pointer-events\", \"none\")\n    //            .text(function(d){\n    //              // debugger`${d.capacity}`\n    //              let cap;\n    //              if (d.capacity === this.infCapacity){\n    //                cap = `∞`\n    //              }\n    //              else{\n    //                cap = `${d.capacity}`\n    //              }\n    //              return `${d.res}:${cap}`});\n    //\n\n  }\n\n\n\n}\n\nexport default Graph;\n","class Graph {\n  constructor(){\n    this.matrix = [\n        [0,1,1,1,0,0,0,0,0,0],\n        [0,0,0,0,25,25,25,0,0,0],\n        [0,0,0,0,0,25,25,25,0,0],\n        [0,0,0,0,0,0,25,25,25,0],\n        [0,0,0,0,0,0,0,0,0,1],\n        [0,0,0,0,0,0,0,0,0,1],\n        [0,0,0,0,0,0,0,0,0,1],\n        [0,0,0,0,0,0,0,0,0,1],\n        [0,0,0,0,0,0,0,0,0,1],\n        [0,0,0,0,0,0,0,0,0,0]\n      ];\n    this.mine;\n    this.mineH;\n    this.mineW;\n    this.infCapacity = 1000000;\n    this.svgWidth = 700;\n    this.svgHeight = 900;\n    this.svgGraph = d3.select(\"body\").append(\"svg\").attr(\"width\", this.svgWidth).attr(\"height\", this.svgHeight);\n\n    this.nodes = [  {label: \"s\", index: 0, profit: null, row: null, fixed: true, x: this.svgWidth/2, y: this.svgHeight-100},\n      {label: \"a\", index: 1, profit: this.matrix[0][1], row: 1, fixed: true, x: this.svgWidth/2-150, y: this.svgHeight - 325},\n      {label: \"b\", index: 2, profit: this.matrix[0][2], row: 1},\n      {label: \"c\", index: 3, profit: this.matrix[0][3], row: 1, fixed: true, x: this.svgWidth/2+150, y: this.svgHeight - 325},\n      {label: \"d\", index: 4, profit: this.matrix[4][9]*-1, row: 0, fixed: true, x: this.svgWidth/2 - 200, y: 325},\n      {label: \"e\", index: 5, profit: this.matrix[5][9]*-1, row: 0},\n      {label: \"f\", index: 6, profit: this.matrix[6][9]*-1, row: 0},\n      {label: \"g\", index: 7, profit: this.matrix[7][9]*-1, row: 0},\n      {label: \"h\", index: 8, profit: this.matrix[8][9]*-1, row: 0, fixed: true, x: this.svgWidth/2 + 200, y: 325},\n      {label: \"t\", index: 9, profit: null, row: null, fixed: true, x: this.svgWidth/2, y: 100}\n    ];\n\n    let restrictions = [\n      {source: 1, target: 4},\n      {source: 1, target: 5},\n      {source: 1, target: 6},\n      {source: 2, target: 5},\n      {source: 2, target: 6},\n      {source: 2, target: 7},\n      {source: 3, target: 6},\n      {source: 3, target: 7},\n      {source: 3, target: 8},\n    ]\n\n    this.links = [];\n    this.node;\n    this.edgepaths;\n    this.edgelabels;\n    this.link;\n    this.restrictions = [];\n    this.nodeLabelList = \"abcdefghijklmnopqruvwxyz\"\n    this.innerNodeCount = 0;\n    this.force;\n    // this.tick.bind(this);\n    //\n  }\n\n\n\n  renderGraph(){\n    // let width = 900,\n    //     height = 900;\n    //\n    // let animationInterval = 100;\n    //\n    // let matrix = [\n    //   [0,1,1,1,0,0,0,0,0,0],\n    //   [0,0,0,0,25,25,25,0,0,0],\n    //   [0,0,0,0,0,25,25,25,0,0],\n    //   [0,0,0,0,0,0,25,25,25,0],\n    //   [0,0,0,0,0,0,0,0,0,1],\n    //   [0,0,0,0,0,0,0,0,0,1],\n    //   [0,0,0,0,0,0,0,0,0,1],\n    //   [0,0,0,0,0,0,0,0,0,1],\n    //   [0,0,0,0,0,0,0,0,0,1],\n    //   [0,0,0,0,0,0,0,0,0,0]\n    // ]\n    //\n    // let nodes = [\n    //   {label: \"s\", index: 0, profit: null, row: null, fixed: true, x: width/2, y: height-100},\n    //   {label: \"a\", index: 1, profit: matrix[0][1], row: 1, fixed: true, x: width/2-150, y: height - 325},\n    //   {label: \"b\", index: 2, profit: matrix[0][2], row: 1},\n    //   {label: \"c\", index: 3, profit: matrix[0][3], row: 1, fixed: true, x: width/2+150, y: height - 325},\n    //   {label: \"d\", index: 4, profit: matrix[4][9]*-1, row: 0, fixed: true, x: width/2 - 200, y: 325},\n    //   {label: \"e\", index: 5, profit: matrix[5][9]*-1, row: 0},\n    //   {label: \"f\", index: 6, profit: matrix[6][9]*-1, row: 0},\n    //   {label: \"g\", index: 7, profit: matrix[7][9]*-1, row: 0},\n    //   {label: \"h\", index: 8, profit: matrix[8][9]*-1, row: 0, fixed: true, x: width/2 + 200, y: 325},\n    //   {label: \"t\", index: 9, profit: null, row: null, fixed: true, x: width/2, y: 100}\n    // ]\n    //\n    // let links = [\n    // ]\n    //\n    // //defines the u -> v edges, i.e. must complete project v before starting project u\n    // let restrictions = [\n    //   {source: 1, target: 4},\n    //   {source: 1, target: 5},\n    //   {source: 1, target: 6},\n    //   {source: 2, target: 5},\n    //   {source: 2, target: 6},\n    //   {source: 2, target: 7},\n    //   {source: 3, target: 6},\n    //   {source: 3, target: 7},\n    //   {source: 3, target: 8},\n    // ]\n    //\n    // //effectively the sum of all other capacities + 1 (commonly C + 1)\n    // let infCapacity = 1000000;\n    //\n    // //computes C + 1\n    // const simulateInfCapacity = () => {\n    //   nodes.forEach(node => {\n    //     if (node.profit !== null){\n    //       if (node.profit > 0){\n    //         infCapacity = infCapacity + node.profit\n    //       }else{\n    //         infCapacity = infCapacity - node.profit\n    //       }\n    //     }\n    //   })\n    //   infCapacity = infCapacity + 1;\n    // }\n    //\n    // let linkIdIdx = 0;\n    // //creates links with finite capacities\n    // const setFiniteLinks = () => {\n    //   nodes.forEach((node,i) => {\n    //     //\n    //     if (node.label !== \"s\" && node.label !== \"t\"){\n    //       if (node.profit > 0){\n    //         links.push({source: 0, target: i, res: 0, capacity: node.profit})\n    //       }else{\n    //         links.push({source: i, target: (nodes.length-1), capacity: (-1 * node.profit), res: 0, id: linkIdIdx})\n    //       }\n    //     }\n    //     linkIdIdx = linkIdIdx + 1;\n    //   })\n    // }\n    // //creates links with infinite capacities\n    // const setInfiniteLinks = () => {\n    //   restrictions.forEach(restriction => {\n    //     links.push({source: restriction.source, target: restriction.target, res: 0, capacity: infCapacity, id: linkIdIdx})\n    //     linkIdIdx = linkIdIdx + 1;\n    //   })\n    // }\n    // // simulateInfCapacity();\n    // setInfiniteLinks();\n    // setFiniteLinks();\n    //\n\n    //create object for manipulation\n    this.svgGraph = d3.select('body').append('svg')\n        .attr('width', this.svgWidth)\n        .attr('height', this.svgHeight);\n\n    //\n    //apply force conditions\n\n    this.force = d3.layout.force()\n        .size([this.svgWidth, this.svgHeight])\n        .nodes(d3.values(this.nodes))\n        .links(this.links)\n        .on(\"tick\", () => {\n          // debugger\n          this.node.attr('cx', function(d) {\n            // debugger\n              return d.x;\n            })\n            .attr('cy', function(d) { return d.y; })\n            .attr(\"transform\", function(d) { return `translate(${d.x},${d.y})`; });\n\n      // debugger\n      this.link.attr('x1', function(d) { return d.source.x; })\n          .attr('y1', function(d) { return d.source.y; })\n          .attr('x2', function(d) { return d.target.x; })\n          .attr('y2', function(d) { return d.target.y; });\n\n\n          this.edgepaths.attr('d', function(d) {\n            let path='M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y;\n            return path\n          });\n\n          // edgelabels.attr('transform',function(d,i){\n          //     if (d.target.x<d.source.x){\n          //         bbox = this.getBBox();\n          //         rx = bbox.x+bbox.width/2;\n          //         ry = bbox.y+bbox.height/2;\n          //         return 'rotate(180 '+rx+' '+ry+')';\n          //         }\n          //     else {\n          //         return 'rotate(0)';\n          //         }\n          // });\n\n          this.edgelabels.attr(\"transform\", function(d,i){\n            if (d.target.x < d.source.x){\n              let bbox = this.getBBox();\n              let rx = bbox.x + bbox.width/2;\n              let ry = bbox.y + bbox.height/2;\n              return `rotate(180 ${rx} ${ry})`;\n            }\n            else{\n              return \"rotate(0)\";\n            }\n          })\n        })\n        // .linkDistance(100)\n        .gravity(0.1)\n        .charge(-1200)\n        .linkDistance(120)\n        .linkStrength(0.1)\n        .start();\n\n        // link.append(\"linkLabel\")\n        //   .append(\"text\")\n        //   .attr(\"class\",\"linkLabel\")\n        //   .attr(\"x\",\"50\")\n        //   .attr(\"y\",\"-20\")\n        //   .attr(\"text-anchor\",\"start\")\n        //   .style(\"fill\",\"#000\")\n        //   .attr(\"xlink:href\",function(d,i){\n        //\n        //     return `#linkId_${i}`;})\n        //   .text(function(d) {\n        //     return d.id;\n        //   })\n\n    //create links\n    this.link = this.svgGraph.append(\"g\").selectAll('.link')\n        .data(this.links)\n        .enter().append('line')\n        .attr(\"class\", \"link\")\n        .attr('id', function(d) {\n          return `link_${d.id}`})\n        .style(\"stroke\", function(d){\n          if (d.capacity === this.infCapacity){\n            return \"#000\"\n          }else if (d.target.label === \"t\"){\n            return \"#632f12\"\n          }else if ( d.source.label === \"s\"){\n            return \"#fff\"\n          }\n        })\n        // .attr(\"marker-end\",\"url(#arrowhead)\")\n        .style(\"stroke-width\", \"4\")\n\n        //create nodes\n        this.node = this.svgGraph.selectAll(\".node\")\n        .data(this.nodes)\n        .enter().append(\"g\")\n        .attr('class', 'node')\n        // .attr(\"transform\",transform);\n        .call(this.force.drag);\n\n        //add circle to visualize nodes\n        this.node.append(\"circle\")\n        .attr('r', 12)\n        .attr(\"fill\", function(d) {\n          if (d.label === \"s\"){\n            return \"#ce9308\"\n          }else if (d.label === \"t\"){\n            return \"#969696\"\n          }else if (d.profit !== null && d.profit > 0){\n            return \"#31703d\"\n          }else if (d.profit !== null && d.profit <= 0){\n            return \"#961919\"\n          }\n        })\n        .style(\"stroke\", \"#fff\")\n        .style(\"stroke-weight\", \"3\")\n\n        //add node labels\n        this.node.append(\"text\")\n        .attr(\"class\",\"nodeLabel\")\n        .attr(\"dx\", \"-.2em\")\n        .attr(\"dy\", \".35em\")\n        .style(\"fill\", \"white\")\n        .text(function(d) {return d.label})\n\n    this.edgepaths = this.svgGraph.selectAll(\".edgepath\")\n        .data(this.links)\n        .enter()\n        .append('path')\n        .attr({'d': function(d) {\n          //\n          return 'M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y},\n               'class':'edgepath',\n               'fill-opacity':0,\n               'stroke-opacity':0,\n               'fill':'blue',\n               'stroke':'red',\n               'id':function(d,i) {return `edgepath:${d.source.index}-${d.target.index}`}})\n        .style(\"pointer-events\", \"none\");\n    //\n        this.edgelabels = this.svgGraph.selectAll(\".edgelabel\")\n            .data(this.links)\n            .enter()\n            .append('text')\n            .style(\"pointer-events\", \"none\")\n            .attr({'class':'edgelabel',\n                   'id':function(d,i){return 'edgelabel'+i},\n                   'dx':80,\n                   'dy':-5,\n                   'font-size':20,\n                   'fill':'#aaa'});\n    //\n    //\n         this.edgelabels.append('textPath')\n             .attr('xlink:href',function(d,i) {\n               //\n                return `#edgepath:${d.source.index}-${d.target.index}`})\n               // return '#edgepath'+i})\n             .style(\"pointer-events\", \"none\")\n             .text(function(d){\n               // `${d.capacity}`\n               let cap;\n               if (d.capacity === this.infCapacity){\n                 cap = `∞`\n               }\n               else{\n                 cap = `${d.capacity}`\n               }\n               return `${d.res}:${cap}`});\n\n  }\n\n  // tick(e) {\n  //   this;\n  //\n  //     this.node.attr('cx', function(d) {\n  //         return d.x;\n  //       })\n  //       .attr('cy', function(d) { return d.y; })\n  //       .attr(\"transform\", function(d) { return `translate(${d.x},${d.y})`; });\n  //\n  //     this.link.attr('x1', function(d) { return d.source.x; })\n  //         .attr('y1', function(d) { return d.source.y; })\n  //         .attr('x2', function(d) { return d.target.x; })\n  //         .attr('y2', function(d) { return d.target.y; });\n  //\n  //\n  //     this.edgepaths.attr('d', function(d) {\n  //       let path='M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y;\n  //       return path\n  //     });\n  //\n  //     this.edgelabels.attr(\"transform\", function(d,i){\n  //       if (d.target.x < d.source.x){\n  //         let bbox = this.getBBox();\n  //         let rx = bbox.x + bbox.width/2;\n  //         let ry = bbox.y + bbox.height/2;\n  //         return `rotate(180 ${rx} ${ry})`;\n  //       }\n  //       else{\n  //         return \"rotate(0)\";\n  //       }\n  //     })\n  // }\n\n}\n\nexport default Graph;\n","import Graph from \"./graph.js\";\n\nclass Mine {\n  constructor(){\n    this.mine = [\n      // [\n      //   {profit: -1, idx: 3},\n      //   {profit: -1, idx: 4},\n      //   {profit: -1, idx: 5},\n      //   {profit: -1, idx: 6},\n      //   {profit: -1, idx: 7}\n      // ],\n      // [\n      //   {profit: null, idx: null},\n      //   {profit: 1, idx: 0},\n      //   {profit: 1, idx: 1},\n      //   {profit: 1, idx: 2},\n      //   {profit: null, idx: null}\n      // ]\n      // [\n      //   {profit: -1, idx: 15},\n      //   {profit: -1, idx: 16},\n      //   {profit: -1, idx: 17},\n      //   {profit: -1, idx: 18},\n      //   {profit: -1, idx: 19}\n      // ],\n      [\n        {profit: -1, idx: 8},\n        {profit: -1, idx: 9},\n        {profit: -1, idx: 10},\n        {profit: -1, idx: 11},\n        // {profit: -1, idx: 14}\n      ],\n      [\n        {profit: -1, idx: 4},\n        {profit: -1, idx: 5},\n        {profit: -1, idx: 6},\n        {profit: 1, idx: 7},\n        // {profit: -1, idx: 9}\n      ],\n      [\n        {profit: 1, idx: 0},\n        {profit: 1, idx: 1},\n        {profit: 1, idx: 2},\n        {profit: 1, idx: 3},\n        // {profit: 1, idx: 4}\n      ]\n    ];\n    this.nodeLayers;\n    this.updateNodeLayers(this.mine);\n    this.numBlocks = 12;\n    this.block;\n    this.svg = d3.select(\"body\").append(\"svg\").attr(\"width\", 700).attr(\"height\", 900)\n    this.blocks = [];\n    this.blockSelectors = [{id: 0, color: \"#FFD700\", profit: 1}, {id: 1, color: \"#8B4513\", profit: -1}];\n    this.currentBlockType =  {id: 1, color: \"#8B4513\", profit: -1};\n    this.drawMine();\n    this.addListeners();\n    this.graph = new Graph();\n    this.graph.generateMatrixFromMine(this);\n    this.graph.populateLinks();\n    this.presentGraph();\n    //\n    // this.graph.generateMatrixFromMine(this);\n    // this.graph.populateLinks(this.mine);\n    // this.presentGraph();\n  }\n\n  updateNodeLayers(mine){\n    const result = [];\n    mine.forEach(row => {\n      const rowEnds = [];\n      let first = 0;\n      while (first < row.length){\n        if(row[first].profit !== null){\n          rowEnds.push(row[first].idx);\n          break;\n        }\n        first++;\n      }\n      let last = row.length-1;\n      while (last > 0){\n        if(row[last].profit !== null){\n          rowEnds.push(row[last].idx);\n          break;\n        }\n        last--;\n      }\n      result.push(rowEnds);\n      // debugger\n    })\n    this.nodeLayers = result;\n    debugger\n  }\n\n  drawMine(){\n    // console.log(5);\n    this.mine.forEach((row,i) => {\n      row.forEach((block,j) => {\n        let color;\n        if (block.profit === null){\n          color = \"black\";\n        }else{\n          color = this.blockSelectors.filter(obj => {\n            return obj.profit === block.profit\n          })[0].color\n        }\n        // debugger\n        this.blocks.push({profit: block.profit, row: i, col: j, color})\n      })\n    })\n    this.block = this.svg.selectAll(\".block\")\n    .data(this.blocks)\n    .enter().append(\"g\")\n    .attr(\"class\",\"block\")\n\n    // debugger\n    this.block.append(\"rect\")\n    .attr(\"x\", function(d){\n      return 100 + 100*d.col\n    })\n    .attr(\"y\", function(d){\n      return 200 + 100*d.row\n    })\n    .attr(\"id\",function(d){\n      return `rect:${d.row}-${d.col}`\n    })\n    .attr(\"width\", 100)\n    .attr(\"height\", 100)\n    .attr(\"fill\",function(d){\n      if (d.profit === null){\n        return \"black\"\n      }\n      else if (d.profit > 0){\n        return \"#FFD700\"\n      }else{\n        return \"#8B4513\"\n      }\n    })\n    .style(\"stroke\",\"black\")\n\n    let circleSelector = this.svg.selectAll(\".circleSelector\")\n    .data(this.blockSelectors)\n    .enter().append(\"g\")\n    .attr(\"class\",\"circleSelector\")\n\n    circleSelector.append(\"circle\")\n    .attr(\"id\",function(d){\n      return `circleSelector:${d.id}`\n    })\n    .attr(\"cx\",function(d){\n      return 100+d.id*100\n    })\n    .attr(\"cy\",100)\n    .attr(\"r\",20)\n    .attr(\"fill\",function(d){\n      // debugger\n      return d.color\n    })\n  }\n\n  presentGraph(){\n    this.graph.renderGraph();\n  }\n\n  addListeners(){\n    this.blocks.forEach(block => {\n      if (block.profit !== null){\n        let tmpBlock = document.getElementById(`rect:${block.row}-${block.col}`)\n\n\n        // let tmpColor;\n        // tmpBlock.addEventListener(\"mouseover\",(e) => {\n        //   this.svg.selectAll(\"rect\").filter(function(d){\n        //     return `rect:${d.row}-${d.col}` === e.currentTarget.id;\n        //   })\n        //   .attr(\"fill\",\"white\");\n        //   this.svg.selectAll(\".block\").attr(\"fill\",\"white\");\n        // })\n        //\n        // tmpBlock.addEventListener(\"mouseout\",(e) => {\n        //   this.svg.selectAll(\"rect\").filter(function(d){\n        //     return `rect:${d.row}-${d.col}` === e.currentTarget.id;\n        //   })\n        //   .attr(\"fill\",\"white\");\n        //   this.svg.selectAll(\".block\").attr(\"fill\",function(d){\n        //     debugger\n        //   });\n        // })\n\n        tmpBlock.addEventListener(\"click\", e => {\n          // debugger\n          this.svg.selectAll(\"rect\").filter(function(d){\n            // debugger\n            return `rect:${d.row}-${d.col}` === e.currentTarget.id;\n          })\n          .attr(\"fill\",this.currentBlockType.color);\n\n\n          let indices = e.currentTarget.id.split(\":\")[1].split(\"-\");\n          // debugger\n          this.mine[Number(indices[0])][Number(indices[1])].profit = this.currentBlockType.profit;\n\n\n          this.graph.clearGraph();\n          this.graph.generateMatrixFromMine(this);\n          this.graph.populateLinks();\n          this.presentGraph();\n\n          // debugger\n          // this.svg.selectAll(\".block\").attr(\"fill\",\"white\");\n        })\n        //\n      }\n      })\n      this.blockSelectors.forEach(selector => {\n        // debugger\n        let tmpSelector = document.getElementById(`circleSelector:${selector.id}`)\n        tmpSelector.addEventListener(\"click\", e => {\n          // debugger\n\n          this.svg.selectAll(\".circleSelector\")\n          .style(\"stroke-width\", \"3\")\n          .style(\"stroke\",(d) => {\n            if (e.currentTarget.id.split(\":\")[1] === `${d.id}`){\n              this.currentBlockType = d;\n              // debugger\n              return \"red\";\n            }else{\n              // debugger\n              return \"none\";\n            }\n            // debugger\n          })\n          // debugger\n        }\n    )}\n  )}\n}\n\nexport default Mine;\n","// // const Vertex = require(\"./vertex.js\");\n// const Vertex = require(\"./vertex.js\");\n//\n// // import Vertex from \"./vertex.js\";\n//\n// document.addEventListener(\"DOMContentLoaded\", () => {\n//   const canvas = document.getElementById(\"canvas\");\n//   const ctx = canvas.getContext(\"2d\");\n//\n//   // const Vertex = function(x,y,r){\n//   //   this.x = x,\n//   //   this.y = y,\n//   //   this.r = r\n//   // }\n//   //\n//   // Vertex.prototype.render = function(ctx){\n//   //   ctx.beginPath();\n//   //   ctx.arc(this.x,this.y,this.r,0,2*Math.PI);\n//   //   ctx.fillStyle = \"red\";\n//   //   ctx.fill();\n//   // }\n//\n//   const Edge = function(v1, v2){\n//     this.v1 = v1;\n//     this.v2 = v2;\n//   }\n//\n//   Edge.prototype.render = function(ctx){\n//     ctx.beginPath();\n//     ctx.moveTo(this.v1.x,this.v1.y);\n//     ctx.lineTo(this.v2.x,this.v2.y);\n//     ctx.lineWidth = 10;\n//     ctx.strokeStyle = \"purple\";\n//     ctx.stroke();\n//   }\n//\n//   const EdgeArrow = function(v1,v2){\n//\n//   }\n//\n//   const matrix = [\n//     [0,0,1,1,1,0],\n//     [0,0,0,1,1,1],\n//     [0,0,0,0,0,0],\n//     [0,0,0,0,0,0],\n//     [0,0,0,0,0,0],\n//     [0,0,0,0,0,0]\n//   ]\n//\n//   const vertices = [\n//     new Vertex(300,300,20),\n//     new Vertex(500,300,20),\n//\n//     new Vertex(100,100,20),\n//     new Vertex(300,100,20),\n//     new Vertex(500,100,20),\n//     new Vertex(700,100,20)\n//   ]\n//   const edges = [];\n//\n//   const generateEdgesFromMatrix = function(matrix){\n//     matrix.forEach((row, i) => {\n//       row.forEach((el, j) => {\n//         if (el > 0){\n//           edges.push(new Edge(vertices[i],vertices[j]));\n//         }\n//       })\n//     })\n//   }\n//\n//   generateEdgesFromMatrix(matrix);\n//\n//\n//   // const edges = [\n//   //   new Edge(vertices[4],vertices[0]),\n//   //   new Edge(vertices[4],vertices[1]),\n//   //   new Edge(vertices[4],vertices[2]),\n//   //   new Edge(vertices[5],vertices[1]),\n//   //   new Edge(vertices[5],vertices[2]),\n//   //   new Edge(vertices[5],vertices[3])\n//   // ]\n//\n//   edges.forEach((edge) => {\n//     edge.render(ctx);\n//   })\n//\n//   vertices.forEach((vertex) => {\n//     vertex.render(ctx);\n//   })\n//\n//   // v1.render(ctx);\n//   // v2.render(ctx);\n//   // v3.render(ctx);\n//   // v4.render(ctx);\n//   // v5.render(ctx);\n//   // v6.render(ctx);\n//\n// });\n\n// document.addEventListener(\"DOMContentLoaded\", () => {\n//\n//   var svg = d3.select(\"svg\"),\n//       width = +svg.attr(\"width\"),\n//       height = +svg.attr(\"height\");\n//\n//\n//               var simulation = d3.forceSimulation()\n//                   .force(\"link\", d3.forceLink().id(function(d) { return d.id; }))\n//                   //.force(\"charge\", d3.forceManyBody().strength(-200))\n//               \t\t.force('charge', d3.forceManyBody()\n//                     .strength(-1000)\n//                   )\n//               // \t\t.force('collide', d3.forceCollide()\n//               //       .radius(d => 40)\n//               //       .iterations(2)\n//               //     )\n//                   .force(\"center\", d3.forceCenter(width / 2, height / 2));\n//               const graph = {\n//                 \"nodes\": [\n//                   {\"id\": \"1\", \"group\": 1},\n//                   {\"id\": \"2\", \"group\": 2},\n//                 ],\n//                 \"links\": [\n//                   {\"source\": \"1\", \"target\": \"2\", \"value\": 1},\n//                 ]\n//               }\n//\n//\n//               function run(graph) {\n//\n//                 graph.links.forEach(function(d){\n//               //     d.source = d.source_id;\n//               //     d.target = d.target_id;\n//                 });\n//                 var link = svg.append(\"g\")\n//                               .style(\"stroke\", \"#aaa\")\n//                               .selectAll(\"line\")\n//                               .data(graph.links)\n//                               .enter().append(\"line\");\n//                 var node = svg.append(\"g\")\n//                           .attr(\"class\", \"nodes\")\n//                 .selectAll(\"circle\")\n//                           .data(graph.nodes)\n//                 .enter().append(\"circle\")\n//                         .attr(\"r\", 2)\n//\n//\n//                 var label = svg.append(\"g\")\n//                     .attr(\"class\", \"labels\")\n//                     .selectAll(\"text\")\n//                     .data(graph.nodes)\n//                     .enter().append(\"text\")\n//                       .attr(\"class\", \"label\")\n//                       .text(function(d) { return d.id; });\n//                 simulation\n//                     .nodes(graph.nodes)\n//                     .on(\"tick\", ticked);\n//                 simulation.force(\"link\")\n//                     .links(graph.links);\n//                 function ticked() {\n//                   link\n//                       .attr(\"x1\", function(d) { return d.source.x; })\n//                       .attr(\"y1\", function(d) { return d.source.y; })\n//                       .attr(\"x2\", function(d) { return d.target.x; })\n//                       .attr(\"y2\", function(d) { return d.target.y; });\n//                   node\n//                        .attr(\"r\", 16)\n//                        .style(\"fill\", \"#efefef\")\n//                        .style(\"stroke\", \"#424242\")\n//                        .style(\"stroke-width\", \"1px\")\n//                        .attr(\"cx\", function (d) { return d.x+5; })\n//                        .attr(\"cy\", function(d) { return d.y-3; });\n//                 }\n//               }\n//\n//\n//               run(graph)\n//\n//\n// });\n\n\nconst draw = require(\"./test3.js\");\nimport Mine from \"./mineTest.js\";\nimport Graph from \"./graph.js\";\nimport Graph2 from \"./graph2.js\";\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // let graph2 = new Graph2();\n  // graph2.renderGraph();\n  // draw();\n  let mine = new Mine();\n  // mine.drawMine();\n  // let graph = new Graph();\n  // draw2();\n});\n","// const EK = require(\"./ek-animated.js\");\n\n\nconst draw3 = function(){\n  let width = 900,\n      height = 900;\n      \n  animationInterval = 100;\n\n  let matrix = [\n    [0,1,1,1,0,0,0,0,0,0],\n    [0,0,0,0,25,25,25,0,0,0],\n    [0,0,0,0,0,25,25,25,0,0],\n    [0,0,0,0,0,0,25,25,25,0],\n    [0,0,0,0,0,0,0,0,0,1],\n    [0,0,0,0,0,0,0,0,0,1],\n    [0,0,0,0,0,0,0,0,0,1],\n    [0,0,0,0,0,0,0,0,0,1],\n    [0,0,0,0,0,0,0,0,0,1],\n    [0,0,0,0,0,0,0,0,0,0]\n  ]\n\n  let nodes = [\n    {label: \"s\", index: 0, profit: null, row: null, fixed: true, x: width/2, y: height-100},\n    {label: \"a\", index: 1, profit: matrix[0][1], row: 1, fixed: true, x: width/2-150, y: height - 325},\n    {label: \"b\", index: 2, profit: matrix[0][2], row: 1},\n    {label: \"c\", index: 3, profit: matrix[0][3], row: 1, fixed: true, x: width/2+150, y: height - 325},\n    {label: \"d\", index: 4, profit: matrix[4][9]*-1, row: 0, fixed: true, x: width/2 - 200, y: 325},\n    {label: \"e\", index: 5, profit: matrix[5][9]*-1, row: 0},\n    {label: \"f\", index: 6, profit: matrix[6][9]*-1, row: 0},\n    {label: \"g\", index: 7, profit: matrix[7][9]*-1, row: 0},\n    {label: \"h\", index: 8, profit: matrix[8][9]*-1, row: 0, fixed: true, x: width/2 + 200, y: 325},\n    {label: \"t\", index: 9, profit: null, row: null, fixed: true, x: width/2, y: 100}\n  ]\n\n  let links = [\n  ]\n\n  //defines the u -> v edges, i.e. must complete project v before starting project u\n  let restrictions = [\n    {source: 1, target: 4},\n    {source: 1, target: 5},\n    {source: 1, target: 6},\n    {source: 2, target: 5},\n    {source: 2, target: 6},\n    {source: 2, target: 7},\n    {source: 3, target: 6},\n    {source: 3, target: 7},\n    {source: 3, target: 8},\n  ]\n\n  //effectively the sum of all other capacities + 1 (commonly C + 1)\n  infCapacity = 25;\n\n  //computes C + 1\n  const simulateInfCapacity = () => {\n    nodes.forEach(node => {\n      if (node.profit !== null){\n        if (node.profit > 0){\n          infCapacity = infCapacity + node.profit\n        }else{\n          infCapacity = infCapacity - node.profit\n        }\n      }\n    })\n    infCapacity = infCapacity + 1;\n  }\n\n  let linkIdIdx = 0;\n  //creates links with finite capacities\n  const setFiniteLinks = () => {\n    nodes.forEach((node,i) => {\n      //\n      if (node.label !== \"s\" && node.label !== \"t\"){\n        if (node.profit > 0){\n          links.push({source: 0, target: i, res: 0, capacity: node.profit})\n        }else{\n          links.push({source: i, target: (nodes.length-1), capacity: (-1 * node.profit), res: 0, id: linkIdIdx})\n        }\n      }\n      linkIdIdx = linkIdIdx + 1;\n    })\n  }\n  //creates links with infinite capacities\n  const setInfiniteLinks = () => {\n    restrictions.forEach(restriction => {\n      links.push({source: restriction.source, target: restriction.target, res: 0, capacity: infCapacity, id: linkIdIdx})\n      linkIdIdx = linkIdIdx + 1;\n    })\n  }\n  // simulateInfCapacity();\n  setInfiniteLinks();\n  setFiniteLinks();\n  //\n\n  //create object for manipulation\n  let svg = d3.select('body').append('svg')\n      .attr('width', width)\n      .attr('height', height);\n\n  //\n  //apply force conditions\n\n  let force = d3.layout.force()\n      .size([width, height])\n      .nodes(d3.values(nodes))\n      .links(links)\n      .on(\"tick\", () => {\n        debugger\n        node.attr('cx', function(d) {\n          debugger\n            return d.x;\n          })\n          .attr('cy', function(d) { return d.y; })\n          .attr(\"transform\", function(d) { return `translate(${d.x},${d.y})`; });\n\n    debugger\n    link.attr('x1', function(d) { return d.source.x; })\n        .attr('y1', function(d) { return d.source.y; })\n        .attr('x2', function(d) { return d.target.x; })\n        .attr('y2', function(d) { return d.target.y; });\n\n\n        edgepaths.attr('d', function(d) {\n          let path='M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y;\n          return path\n        });\n\n        // edgelabels.attr('transform',function(d,i){\n        //     if (d.target.x<d.source.x){\n        //         bbox = this.getBBox();\n        //         rx = bbox.x+bbox.width/2;\n        //         ry = bbox.y+bbox.height/2;\n        //         return 'rotate(180 '+rx+' '+ry+')';\n        //         }\n        //     else {\n        //         return 'rotate(0)';\n        //         }\n        // });\n\n        edgelabels.attr(\"transform\", function(d,i){\n          if (d.target.x < d.source.x){\n            bbox = this.getBBox();\n            rx = bbox.x + bbox.width/2;\n            ry = bbox.y + bbox.height/2;\n            return `rotate(180 ${rx} ${ry})`;\n          }\n          else{\n            return \"rotate(0)\";\n          }\n        })\n      })\n      // .linkDistance(100)\n      .gravity(0.1)\n      .charge(-1200)\n      .linkDistance(120)\n      .linkStrength(0.1)\n      .start();\n\n      // link.append(\"linkLabel\")\n      //   .append(\"text\")\n      //   .attr(\"class\",\"linkLabel\")\n      //   .attr(\"x\",\"50\")\n      //   .attr(\"y\",\"-20\")\n      //   .attr(\"text-anchor\",\"start\")\n      //   .style(\"fill\",\"#000\")\n      //   .attr(\"xlink:href\",function(d,i){\n      //\n      //     return `#linkId_${i}`;})\n      //   .text(function(d) {\n      //     return d.id;\n      //   })\n\n  //create links\n  let link = svg.append(\"g\").selectAll('.link')\n      .data(links)\n      .enter().append('line')\n      .attr(\"class\", \"link\")\n      .attr('id', function(d) {\n        return `link_${d.id}`})\n      .style(\"stroke\", function(d){\n        if (d.capacity === infCapacity){\n          return \"#000\"\n        }else if (d.target.label === \"t\"){\n          return \"#632f12\"\n        }else if ( d.source.label === \"s\"){\n          return \"#fff\"\n        }\n      })\n      // .attr(\"marker-end\",\"url(#arrowhead)\")\n      .style(\"stroke-width\", \"4\")\n\n      //create nodes\n      let node = svg.selectAll(\".node\")\n      .data(nodes)\n      .enter().append(\"g\")\n      .attr('class', 'node')\n      // .attr(\"transform\",transform);\n      .call(force.drag);\n\n      //add circle to visualize nodes\n      node.append(\"circle\")\n      .attr('r', 12)\n      .attr(\"fill\", function(d) {\n        if (d.label === \"s\"){\n          return \"#ce9308\"\n        }else if (d.label === \"t\"){\n          return \"#969696\"\n        }else if (d.profit !== null && d.profit > 0){\n          return \"#31703d\"\n        }else if (d.profit !== null && d.profit <= 0){\n          return \"#961919\"\n        }\n      })\n      .style(\"stroke\", \"#fff\")\n      .style(\"stroke-weight\", \"3\")\n\n      //add node labels\n      node.append(\"text\")\n      .attr(\"class\",\"nodeLabel\")\n      .attr(\"dx\", \"-.2em\")\n      .attr(\"dy\", \".35em\")\n      .style(\"fill\", \"white\")\n      .text(function(d) {return d.label})\n\n  let edgepaths = svg.selectAll(\".edgepath\")\n      .data(links)\n      .enter()\n      .append('path')\n      .attr({'d': function(d) {\n        //\n        return 'M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y},\n             'class':'edgepath',\n             'fill-opacity':0,\n             'stroke-opacity':0,\n             'fill':'blue',\n             'stroke':'red',\n             'id':function(d,i) {return `edgepath:${d.source.index}-${d.target.index}`}})\n      .style(\"pointer-events\", \"none\");\n  //\n      var edgelabels = svg.selectAll(\".edgelabel\")\n          .data(links)\n          .enter()\n          .append('text')\n          .style(\"pointer-events\", \"none\")\n          .attr({'class':'edgelabel',\n                 'id':function(d,i){return 'edgelabel'+i},\n                 'dx':80,\n                 'dy':-5,\n                 'font-size':20,\n                 'fill':'#aaa'});\n  //\n  //\n       edgelabels.append('textPath')\n           .attr('xlink:href',function(d,i) {\n             //\n              return `#edgepath:${d.source.index}-${d.target.index}`})\n             // return '#edgepath'+i})\n           .style(\"pointer-events\", \"none\")\n           .text(function(d){\n             // `${d.capacity}`\n             let cap;\n             if (d.capacity === infCapacity){\n               cap = `∞`\n             }\n             else{\n               cap = `${d.capacity}`\n             }\n             return `${d.res}:${cap}`});\n\n    // let link = svg.selectAll(\".link\")\n    //   .data(force.links())\n    //   .enter().append(\"g\")\n    //   .attr(\"class\",\"link\")\n    //\n    //\n    // link.append(\"line\")\n    // .attr('id', function(d) {\n    //   return `link_${d.id}`})\n    // .style(\"stroke\", function(d){\n    //   if (d.capacity === infCapacity){\n    //     return \"#000\"\n    //   }else if (d.target.label === \"t\"){\n    //     return \"#632f12\"\n    //   }else if ( d.source.label === \"s\"){\n    //     return \"#fff\"\n    //   }\n    // })\n    // .style(\"stroke-width\", \"5\");\n\n  // function tick(e) {\n  //     node.attr('cx', function(d) {\n  //\n  //         return d.x;\n  //       })\n  //       .attr('cy', function(d) { return d.y; })\n  //       .attr(\"transform\", function(d) { return `translate(${d.x},${d.y})`; });\n  //\n  //     link.attr('x1', function(d) { return d.source.x; })\n  //         .attr('y1', function(d) { return d.source.y; })\n  //         .attr('x2', function(d) { return d.target.x; })\n  //         .attr('y2', function(d) { return d.target.y; });\n  //\n  //\n  //     edgepaths.attr('d', function(d) {\n  //       let path='M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y;\n  //       return path\n  //     });\n  //\n  //     // edgelabels.attr('transform',function(d,i){\n  //     //     if (d.target.x<d.source.x){\n  //     //         bbox = this.getBBox();\n  //     //         rx = bbox.x+bbox.width/2;\n  //     //         ry = bbox.y+bbox.height/2;\n  //     //         return 'rotate(180 '+rx+' '+ry+')';\n  //     //         }\n  //     //     else {\n  //     //         return 'rotate(0)';\n  //     //         }\n  //     // });\n  //\n  //     edgelabels.attr(\"transform\", function(d,i){\n  //       if (d.target.x < d.source.x){\n  //         bbox = this.getBBox();\n  //         rx = bbox.x + bbox.width/2;\n  //         ry = bbox.y + bbox.height/2;\n  //         return `rotate(180 ${rx} ${ry})`;\n  //       }\n  //       else{\n  //         return \"rotate(0)\";\n  //       }\n  //     })\n  // }\n\n  const BFS = (graph, s, t, parent) => {\n    let visited = [];\n    for (let i = 0; i < 5; i++){\n      visited.push(false);\n    }\n\n    let queue = [];\n\n    queue.push(s);\n    visited[s] = true;\n    //\n    while (queue.length > 0) {\n      let currentVtx = queue.shift();\n\n      graph[currentVtx].forEach((val, i) => {\n        if (!visited[i] && val > 0){\n          queue.push(i);\n          visited[i] = true;\n          parent[i] = currentVtx;\n        }\n      })\n    }\n    return {pathToSink: visited[t], parent}\n  }\n\n  let parent = [];\n\n  for (let i = 0; i < matrix.length; i++){\n    parent.push(-1);\n  }\n\n  const EK = (graph, source, sink) => {\n    let count = 3;\n\n\n    let max_flow = 0;\n    //\n    while (BFS(graph, source, sink, parent).pathToSink) {\n      let path_flow = 91;\n      let s = sink;\n      let path = [s];\n      while (s != source){\n        path_flow = Math.min(path_flow, graph[parent[s]][s]);\n        s = parent[s];\n        path.unshift(s);\n      }\n      //\n      animatePath(path, count, \"search\");\n      max_flow = max_flow + path_flow;\n      //\n      count = count + (path.length - 1);\n\n      let t = sink;\n      let augmentingPath = [t];\n      while (t != source){\n        let u = parent[t];\n        graph[u][t] =  graph[u][t] - path_flow;\n        graph[t][u] = graph[t][u] + path_flow;\n        let z = graph[u][t];\n        animateAugment(u,t,count,graph);\n        count = count + 1;\n        //\n        // updateCapacities(u,t,count);\n        t = parent[t];\n        augmentingPath.push(t)\n      }\n      // animatePath(augmentingPath, count, \"augment\",graph)\n\n      // count = count + (path.length - 1);\n      //\n\n      resetBFSLinks(path, count);\n      count = count + 1;\n    }\n\n    let solution = [0];\n    let queue = [0]\n    let solutionEdges = [];\n\n    //finds solution nodes\n    graph[0].forEach((el,i) => {\n      if (el > 0){\n        solution.push(i);\n        queue.push(i);\n        solutionEdges.push([0,i]);\n      }\n    })\n    //\n    while (queue.length > 0){\n      let nextNode = queue.shift();\n      graph[nextNode].forEach((el,i) => {\n        if (el > 0 && !solution.includes(i)){\n          solution.push(i);\n          queue.push(i);\n          solutionEdges.push([nextNode,i]);\n        }\n      })\n    }\n    count = count + 1;\n\n\n    return {max_flow, solution,count,solutionEdges};\n  }\n\n  // let node.enter().append(\"text\")\n\n\n\n  ///USEFUL STUFF RIGHT HERE\n  // setTimeout(function(){\n  //   svg.selectAll(\"textPath\")\n  //   .filter(function(d){\n  //     //\n  //     return d.source.index === 0 && d.target.index === 1;\n  //   })\n  //   .text(\"4\")\n  // },1000);\n  //\n\n\n  let result;\n\n  // EK(matrix,0,9);\n  // highlightSolution(result.solution, result.count, result.solutionEdges);\n\n\n  function updateCapacities(source,target,count,graph){\n    //\n    setTimeout(function(){\n      //\n      svg.selectAll(\"textPath\")\n      .filter(function(d){\n        //\n        return d.source.index === source && d.target.index === target;\n      })\n      .text(function(d){\n        //\n        let cap;\n        if (d.capacity === infCapacity){\n          cap = `∞`\n        }\n        else{\n          cap = `${d.capacity}`\n        }\n        //\n        return `${d.capacity - graph[source][target]}:${cap}`\n      }\n    )\n    },animationInterval/2);\n  }\n\n  function pathMatch(tmpArr, solutionArr){\n    let result = false;\n    solutionArr.forEach(arr => {\n      if (tmpArr[0] === arr[0] && tmpArr[1] === arr[1]){\n        result = true;\n      }\n    })\n    return result;\n  }\n\n  function highlightSolution(solution, count, solutionEdges){\n    setTimeout(function(){\n      svg.selectAll(\"circle\")\n      // .filter(function(d) {\n      //   //\n      //   return solution.includes(d.index);\n      // })\n      .transition()\n      .duration(1000)\n      .attr(\"fill\", function(d){\n        if (solution.includes(d.index)){\n          return \"white\"\n        }else{\n          return \"black\"\n        }\n      })\n\n      svg.selectAll(\"text\")\n      // .filter(function(d) {\n      //   //\n      //   return solution.includes(d.index);\n      // })\n      .transition()\n      .duration(1000)\n      .style(\"fill\", function(d){\n        // return \"black\"\n        if (solution.includes(d.index)){\n          return \"black\"\n        }else{\n          return \"gray\"\n        }\n      });\n\n      // svg.selectAll(\".link\").filter(function(d) {\n      //   let tmp = [d.source.index,d.target.index];\n      //   //\n      //   pathMatch(tmp,solutionEdges)\n      //   return pathMatch(tmp,solutionEdges);\n      // })\n      // .transition()\n      // .duration(1000)\n      // .style(\"stroke\", \"red\")\n    },animationInterval*count)\n  }\n\n  function animateAugment(source,target,count,graph){\n    // updateCapacities(source,target,count,graph);\n    setTimeout(function(){\n      svg.selectAll(\".link\")\n      .filter(function(d){\n\n        //\n        if (d.source.index === source && d.target.index === target){\n          //\n          updateCapacities(d.source.index, d.target.index,count,graph);\n          return true;\n        // return d.source.index === path[i+1] && d.target.index === path[i]\n        }\n      })\n      .transition()\n      .duration(animationInterval)\n      .style(\"stroke\", function(){\n          return \"#039ab5\"\n      })\n    }, animationInterval*count)\n  }\n\n  function animatePath(path, count, type,graph) {\n    for (let i = 0; i < path.length - 1; i++){\n      setTimeout(function(){\n        svg.selectAll(\".link\")\n        .filter(function(d){\n          if (type === \"search\"){\n            return d.source.index === path[i] && d.target.index === path[i+1]\n          }else{\n            if (d.source.index === path[i+1] && d.target.index === path[i]){\n              //\n              updateCapacities(d.source.index, d.target.index,count,graph);\n              return true;\n            }\n            // return d.source.index === path[i+1] && d.target.index === path[i]\n          }\n        })\n        .transition()\n        .duration(animationInterval)\n        .style(\"stroke\", function(){\n          if (type === \"search\"){\n            return \"red\"\n          }else if (type === \"augment\"){\n            return \"#039ab5\"\n          }\n        })\n      }, animationInterval*count)\n      count = count + 1\n      //\n    }\n\n  }\n\n  function resetBFSLinks(path,count){\n    for (let i = 0; i < path.length - 1; i++){\n      setTimeout(function(){\n        svg.selectAll(\".link\")\n        .filter(function(d){\n          //\n          return d.source.index === path[i] && d.target.index === path[i+1]\n        })\n        .transition()\n        .duration(animationInterval)\n        .style(\"stroke\", function(d){\n          if (d.capacity === infCapacity){\n            return \"#000\"\n          }else if (d.target.label === \"t\"){\n            return \"#632f12\"\n          }else if ( d.source.label === \"s\"){\n            return \"#fff\"\n          }\n        })\n      }, animationInterval*count)\n    }\n  }\n\n}\n\nmodule.exports = draw3;\n"],"sourceRoot":""}